@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

/* Roots Design Tokens - Light (Nord) */
html[data-color-mode='light'] {
  color-scheme: light;
  --ds-text: #2e3440;
  --ds-text-subtle: #434c5e;
  --ds-text-subtlest: #4c566a;
  --ds-text-inverse: #eceff4;
  --ds-text-brand: #5e81ac;
  --ds-text-danger: #bf616a;
  --ds-text-success: #7b9e64;
  --ds-text-warning: #d08770;
  --ds-text-discovery: #b48ead;
  --ds-border: #2e344020;
  --ds-border-bold: #4c566a;
  --ds-border-focused: #88c0d0;
  --ds-border-input: #d8dee9;
  --ds-border-danger: #bf616a;
  --ds-border-warning: #d08770;
  --ds-border-success: #a3be8c;
  --ds-surface: #f5f7fa;
  --ds-surface-hovered: #eceff4;
  --ds-surface-raised: #ffffff;
  --ds-surface-sunken: #eceff4;
  --ds-surface-overlay: #ffffff;
  --ds-background-brand-bold: #5e81ac;
  --ds-background-brand-bold-hovered: #507396;
  --ds-background-neutral: #2e344010;
  --ds-background-neutral-hovered: #2e344018;
  --ds-background-neutral-pressed: #2e344030;
  --ds-background-selected: #e7ecf3;
  --ds-background-danger: #f9eff0;
  --ds-background-danger-bold: #bf616a;
  --ds-background-danger-bold-hovered: #a9545c;
  --ds-background-success: #f2f6ef;
  --ds-background-success-bold: #a3be8c;
  --ds-background-success-bold-hovered: #8faa78;
  --ds-background-warning: #fdf9f1;
  --ds-background-warning-bold: #ebcb8b;
  --ds-background-discovery: #f5f0f4;
  --ds-background-discovery-bold: #b48ead;
  --ds-background-information: #e7ecf3;
  --ds-background-information-bold: #5e81ac;
  --ds-background-input: #ffffff;
  --ds-blanket: #2e344070;
}

/* Roots Design Tokens - Dark (Nord) */
html[data-color-mode='dark'] {
  color-scheme: dark;
  --ds-text: #d8dee9;
  --ds-text-subtle: #8892a2;
  --ds-text-subtlest: #6e7a8d;
  --ds-text-inverse: #2e3440;
  --ds-text-brand: #88c0d0;
  --ds-text-danger: #bf616a;
  --ds-text-success: #a3be8c;
  --ds-text-warning: #ebcb8b;
  --ds-text-discovery: #b48ead;
  --ds-border: #d8dee920;
  --ds-border-bold: #4c566a;
  --ds-border-focused: #88c0d0;
  --ds-border-input: #4c566a;
  --ds-border-danger: #bf616a;
  --ds-border-warning: #ebcb8b;
  --ds-border-success: #a3be8c;
  --ds-surface: #2e3440;
  --ds-surface-hovered: #3b4252;
  --ds-surface-raised: #3b4252;
  --ds-surface-sunken: #272c36;
  --ds-surface-overlay: #3b4252;
  --ds-background-brand-bold: #81a1c1;
  --ds-background-brand-bold-hovered: #88c0d0;
  --ds-background-neutral: #d8dee914;
  --ds-background-neutral-hovered: #d8dee920;
  --ds-background-neutral-pressed: #d8dee930;
  --ds-background-selected: #364455;
  --ds-background-danger: #4a2f33;
  --ds-background-danger-bold: #bf616a;
  --ds-background-danger-bold-hovered: #c97b82;
  --ds-background-success: #3a4438;
  --ds-background-success-bold: #a3be8c;
  --ds-background-success-bold-hovered: #b5cc9f;
  --ds-background-warning: #443d2c;
  --ds-background-warning-bold: #ebcb8b;
  --ds-background-discovery: #443548;
  --ds-background-discovery-bold: #b48ead;
  --ds-background-information: #364455;
  --ds-background-information-bold: #81a1c1;
  --ds-background-input: #3b4252;
  --ds-blanket: #2e344080;
}

/* shadcn-svelte variables mapped to Roots tokens */
:root {
  --radius: 0.75rem;
  --background: var(--ds-surface);
  --foreground: var(--ds-text);
  --card: var(--ds-surface-raised);
  --card-foreground: var(--ds-text);
  --popover: var(--ds-surface-overlay);
  --popover-foreground: var(--ds-text);
  --primary: var(--ds-background-brand-bold);
  --primary-foreground: var(--ds-text-inverse);
  --secondary: var(--ds-background-neutral);
  --secondary-foreground: var(--ds-text);
  --muted: var(--ds-surface-sunken);
  --muted-foreground: var(--ds-text-subtle);
  --accent: var(--ds-background-selected);
  --accent-foreground: var(--ds-text-brand);
  --destructive: var(--ds-background-danger-bold);
  --border: var(--ds-border);
  --input: var(--ds-border-input);
  --ring: var(--ds-border-focused);
  --chart-1: var(--ds-background-success-bold);
  --chart-2: var(--ds-background-brand-bold);
  --chart-3: var(--ds-background-discovery-bold);
  --chart-4: var(--ds-background-warning-bold);
  --chart-5: var(--ds-background-danger-bold);
}

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Source-specific colors (Nord Aurora) */
  --color-source-moco: #a3be8c;
  --color-source-jira: #5e81ac;
  --color-source-outlook: #b48ead;
  --color-source-personio: #d08770;

  /* Semantic colors mapped to Tailwind classes */
  --color-success: var(--ds-background-success-bold);
  --color-success-subtle: var(--ds-background-success);
  --color-success-text: var(--ds-text-success);
  --color-danger: var(--ds-background-danger-bold);
  --color-danger-subtle: var(--ds-background-danger);
  --color-danger-text: var(--ds-text-danger);
  --color-warning: var(--ds-background-warning-bold);
  --color-warning-subtle: var(--ds-background-warning);
  --color-warning-text: var(--ds-text-warning);
  --color-discovery: var(--ds-background-discovery-bold);
  --color-discovery-subtle: var(--ds-background-discovery);
  --color-discovery-text: var(--ds-text-discovery);
  --color-information: var(--ds-background-information-bold);
  --color-information-subtle: var(--ds-background-information);
  --color-brand: var(--ds-background-brand-bold);
  --color-brand-text: var(--ds-text-brand);
  --color-brand-subtle: var(--ds-background-selected);
  --color-border-danger: var(--ds-border-danger);
  --color-border-warning: var(--ds-border-warning);
  --color-border-success: var(--ds-border-success);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    margin: 0;
    transition:
      background-color 0.2s,
      color 0.2s,
      border-color 0.2s;
  }
}

#app {
  min-height: 100vh;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--ds-border-bold);
  border-radius: 9999px;
  border: 2px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--ds-text-subtlest);
  border: 2px solid transparent;
  background-clip: content-box;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.2s ease-out;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    var(--ds-surface-sunken) 25%,
    var(--ds-background-neutral-hovered) 50%,
    var(--ds-surface-sunken) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
  border-radius: 6px;
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 2s linear infinite;
}

.dot-grid-bg {
  background-image: radial-gradient(
    circle,
    var(--ds-border) 1px,
    transparent 1px
  );
  background-size: 16px 16px;
}

@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-left {
  animation: slide-in-left 0.2s ease-out;
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.2s ease-out;
}
